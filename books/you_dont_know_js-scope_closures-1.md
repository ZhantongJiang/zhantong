## 一.作用域与闭包
# 什是作用域？

### 大多数编译器的过程
`eg. var a = 2;`
#### 1.分词 && 词法分析
将一段话拆分为一个个片段，这个片断也成为token，即记号。（['var', ' ', 'a', ' ', '=', ' ', '2', ';']）
#### 2.解析
将带有token数组 *转化* 嵌套元素树（AST抽象语法树）
![示例的AST抽象语法树](./images/you_dont_know_js-scope_closures-1-01.png)
#### 3.代码生成
将AST抽象语法树 *转化* 可执行的代码。  
JavaScript代码段在它执行之前（通常是 *刚好* 在它执行之前！）都必须被编译。所以JS编译器将把程序 *var a = 2;* 拿过来，并首先编译它，然后准备运行它，通常是立即的。

### LHS && RHS
LHS（Left-hand Side）相当于**setter**赋值操作；RHS（Right-hand Side）相当于**getter**取值，即读取当前的变量。  
当进行RHS查询到最顶部的作用域时仍然查询不到该变量，会报**ReferenceError**的异常；当进行LHS查询到最顶部的作用域时仍然查询不到该变量，在非严格模式下会自动生成一个全局变量，但在严格模式下也会报**ReferenceError**的异常。当一个RHS查询的变量被找到了，但是你试着去做一些这个值不可能做到的事，比如将一个非函数的值作为函数运行，或者引用 *null* 或者 *undefined* 值的属性，那么引擎就会抛出一个不同种类的错误，称为**TypeError**。
